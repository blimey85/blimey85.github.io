<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
  <meta charset="utf-8">
  <title>The Joys of Coffeescript - Ramblings on Rails</title>
  <meta name="author" content="Gary Traffanstedt">

  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://traffan.com/the-joys-of-coffeescript/">
  <link href="/favicon.png" type="image/png" rel="icon">
  <link href="/atom.xml" rel="alternate" title="Ramblings on Rails" type="application/atom+xml">

  <!-- http://opengraphprotocol.org/ -->
  <meta name="twitter:card" content="summary_large_image">
  <meta property="og:type" content="website">
  <meta property="og:url" content="http://traffan.com/the-joys-of-coffeescript/">
  <meta property="og:title" content="The Joys of Coffeescript - Ramblings on Rails">
  

  
  <link href="/assets/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
  <link href="/assets/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">

  



</head>

<body   >
  <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>
  <div id="wrap">
    <header id="body_header">
  <nav class="navbar navbar-default" role="navigation">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" title="toggle navbar" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/">Ramblings on Rails</a>
      </div>

      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li class="active">
          <a rel="index" href="/">Blog</a>
          </li>
          <li >
          <a href="/archives">Archives</a>
          </li>
        </ul>
        <ul class="nav navbar-nav navbar-right">
          
          
            <li>
  <form class="search navbar-form navbar-right" action="/search" method="get">
    <div class="form-group">
      <input class="form-control" type="text" id="search-query" name="q" placeholder="Search" autocomplete="off">
    </div>
  </form>
</li>
          
          <li>
            <a class="subscribe-rss" href="/atom.xml" title="subscribe via RSS">
              <span class="visible-xs">RSS</span>
              <img class="hidden-xs" src="/images/rss.png" alt="RSS">
            </a>
          </li>
          
        </ul>
      </div>
    </div>
  </nav>


</header>


    <div id="main" role="main" class="container">

      <section class="panel panel-default clearfix" id="search-results" style="display: none;">
        <div class="panel-heading">
          <h3 class="panel-title">Search results</h3>
        </div>
        <div class="entries">
        </div>
      </section>


      <div id="content">
        <div class="row">
  <div class="page-content col-md-8" itemscope itemtype="http://schema.org/Blog">
    <meta itemprop="name" content="Ramblings on Rails"/>
    
    <meta itemprop="url" content="http://traffan.com"/>
    <article class="hentry" role="article" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
      
  <header class="page-header">
    
      <h2 class="entry-title" itemprop="name headline">
          <a>The Joys of Coffeescript
          
      </h2>
    
    <hr>
    
      <p class="meta meta_top text-muted">
        












<span class="date_block"><span class="glyphicon glyphicon-calendar"></span> <time datetime="2013-04-12T09:41:56-04:00"  data-updated="true" itemprop="datePublished dateCreated">Fri 12 Apr 2013</time></span>

        

        

<span class="category_block">
<span class="glyphicon glyphicon-folder-open"></span>&nbsp;
<span class="categories">
  
    <a class='category' href='/categories/development/'>development</a>
  
</span>
  </span>


        


  <span class="tag_block">
    <span class="glyphicon glyphicon-tags"></span>&nbsp;
    <span class="tags">
      
        <a class='tag' href='/tags/coffeescript/'>coffeeScript</a>, <a class='tag' href='/tags/jquery/'>jquery</a>
      
    </span>
  </span>


      </p>
    
  </header>


<div class="entry-content clearfix" itemprop="articleBody description"><p>I just used Coffeescript for the first time. I’ve copied and pasted Coffeescript code before, of course, but this was the first time I had used it with my own code. And I’ll admit I cheated. I started with JQuery and then ran it through a converter (<a href="http://js2coffee.org/">http://js2coffee.org/</a>).</p>

<p><strong>JQuery</strong>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;input[type=&#39;checkbox&#39;]#goal_completed&quot;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;change&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.goal_completed_on&#39;</span><span class="p">).</span><span class="nx">toggle</span><span class="p">();</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Coffeescript</strong>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;input[type=&#39;checkbox&#39;]#goal_completed&quot;</span><span class="p">).</span><span class="nx">on</span> <span class="s2">&quot;change&quot;</span><span class="p">,</span> <span class="o">-&gt;</span>
</span><span class='line'>    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.goal_completed_on&quot;</span><span class="p">).</span><span class="nx">toggle</span><span class="p">()</span>
</span></code></pre></td></tr></table></div></figure>


<p>For writing the code I was doing a simple <code>&lt;script&gt; &lt;/script&gt;</code> block at the bottom of my <code>_form.html.erb</code> file but found that because I’m loading my JS files at the bottom of my layout, my JQuery wasn’t working. JQuery hadn’t loaded yet. Now that I have it as proper Coffeescript and in the propper assets file, <code>assets/javascripts/goals.coffee.js</code> in this case, everything is working great.</p>
</div>


      <footer>
        
          <div class="sharing">
  
  
  
</div>

        
        
          <ul class="meta text-muted pager">
            
              <li class="previous"><a href="/trying-appfog-for-project-deployment/" title="Previous: Trying AppFog for Project Deployment.">&larr;&nbsp;Previous</a></li>
            

            
              <li class="next"><a href="/who-died-and-left-you-brew-master/" title="Next: Who Died and Left You Brew Master?">Next&nbsp;&rarr;</a></li>
            
          </ul>
        
      </footer>
    </article>
    
  </div>
  
    <aside class="sidebar col-md-4">
      
        <section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Recent Posts</h3>
  </div>
  
  <div id="recent_posts" class="list-group">
    
    <a class="list-group-item " href="/bug-in-apples-command-line-tools-6-dot-3/">Bug in Apple&#8217;s Command Line Tools 6.3</a>
    
    <a class="list-group-item " href="/the-return-of-the-great-white-hope/">The Return of the Great White Hope.</a>
    
    <a class="list-group-item " href="/haml-is-not-for-assets/">HAML Is Not for ASSETS</a>
    
    <a class="list-group-item " href="/counter-caching/">Counter Caching</a>
    
    <a class="list-group-item " href="/rails-counter-cache-frustrations/">Rails Counter_cache Frustrations</a>
    
  </div>
</section>
<section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Categories</h3>
  </div>
  <div class="list-group">
    
    
    <a class="list-group-item " href="/categories/development/index.html">
      <span class="badge">14</span>
      development
    </a>
    
    
    <a class="list-group-item " href="/categories/hardware/index.html">
      <span class="badge">1</span>
      hardware
    </a>
    
    
    <a class="list-group-item " href="/categories/blogging/index.html">
      <span class="badge">3</span>
      blogging
    </a>
    
  </div>
</section><section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Tag Cloud</h3>
  </div>
  <div class="list-group">
    <div id="myCanvasContainer" style="text-align: center;">
      <canvas width="300" height="300" id="myCanvas">
        <p>Anything in here will be replaced on browsers that support the canvas element</p>
      </canvas>
    </div>
    <div id="tags" style="display: none;">
      <ul>
        
        <li>
          <a href="/tags.html#delayed_job-ref"
              style="font-size: 4pt">
            delayed_job
          </a>
        </li>
        
        <li>
          <a href="/tags.html#rails-ref"
              style="font-size: 34pt">
            rails
          </a>
        </li>
        
        <li>
          <a href="/tags.html#ruby-ref"
              style="font-size: 4pt">
            ruby
          </a>
        </li>
        
        <li>
          <a href="/tags.html#apple-ref"
              style="font-size: 8pt">
            apple
          </a>
        </li>
        
        <li>
          <a href="/tags.html#shiny-ref"
              style="font-size: 4pt">
            shiny
          </a>
        </li>
        
        <li>
          <a href="/tags.html#toys-ref"
              style="font-size: 4pt">
            toys
          </a>
        </li>
        
        <li>
          <a href="/tags.html#brew-ref"
              style="font-size: 4pt">
            brew
          </a>
        </li>
        
        <li>
          <a href="/tags.html#mac-ref"
              style="font-size: 4pt">
            mac
          </a>
        </li>
        
        <li>
          <a href="/tags.html#mysql-ref"
              style="font-size: 4pt">
            mysql
          </a>
        </li>
        
        <li>
          <a href="/tags.html#postgresql-ref"
              style="font-size: 8pt">
            postgresql
          </a>
        </li>
        
        <li>
          <a href="/tags.html#path-ref"
              style="font-size: 4pt">
            path
          </a>
        </li>
        
        <li>
          <a href="/tags.html#puma-ref"
              style="font-size: 4pt">
            puma
          </a>
        </li>
        
        <li>
          <a href="/tags.html#appfog-ref"
              style="font-size: 4pt">
            appfog
          </a>
        </li>
        
        <li>
          <a href="/tags.html#coffeeScript-ref"
              style="font-size: 4pt">
            coffeeScript
          </a>
        </li>
        
        <li>
          <a href="/tags.html#jquery-ref"
              style="font-size: 4pt">
            jquery
          </a>
        </li>
        
        <li>
          <a href="/tags.html#features-ref"
              style="font-size: 4pt">
            features
          </a>
        </li>
        
        <li>
          <a href="/tags.html#gems-ref"
              style="font-size: 13pt">
            gems
          </a>
        </li>
        
        <li>
          <a href="/tags.html#octopress-ref"
              style="font-size: 8pt">
            octopress
          </a>
        </li>
        
        <li>
          <a href="/tags.html#search-ref"
              style="font-size: 4pt">
            search
          </a>
        </li>
        
        <li>
          <a href="/tags.html#tapir-ref"
              style="font-size: 4pt">
            tapir
          </a>
        </li>
        
        <li>
          <a href="/tags.html#automation-ref"
              style="font-size: 4pt">
            automation
          </a>
        </li>
        
        <li>
          <a href="/tags.html#twitter-ref"
              style="font-size: 4pt">
            twitter
          </a>
        </li>
        
        <li>
          <a href="/tags.html#haml-ref"
              style="font-size: 4pt">
            haml
          </a>
        </li>
        
      </ul>
    </div>
  </div>
</section>

<section class="panel panel-default clearfix">
  <div class="panel-heading">
    <h3 class="panel-title">
      <a class="customisable-highlight" href="https://twitter.com/blimey85" title="Tweets from Twitter API">Tweets</a>
      <a class="follow-button profile" href="https://twitter.com/blimey85" role="button" data-scribe="component:followbutton" title="Follow Twitter API on Twitter"><span class="glyphicon glyphicon-bird"></span>Follow @blimey85</a>


    </h3>
  </div>
  <a class="twitter-timeline" height="300px" width="100%" data-chrome="noheader nofooter noborders noscrollbar" data-dnt="true" href="https://twitter.com/blimey85" data-widget-id="595102305114005504">Tweets by @blimey85</a>
  <script>
    !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");

  </script>
</section>


<section class="panel panel-default clearfix">
  <div class="panel-heading">
      <h3 class="panel-title">GitHub Repos</h3>
  </div>
  <div class="list-group" id="gh_repos">
    <p class="loading">Status updating&#8230;</p>
  </div>
  
    <div class="gh-profile-link pull-right text-muted">
      <a href="https://github.com/blimey85">@blimey85</a> on GitHub
    </div>
  
</section>


      
    </aside>
  
</div>

      </div>
    </div>
  </div>
  <footer role="contentinfo"><div class="container">
    <p class="text-muted credits">
  Copyright &copy; 2015 - Gary Traffanstedt<br>
  <small>
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>,
      <span class="credit">customized with <a href="https://github.com/kAworu/octostrap3">octostrap3</a></span>.
  </small>
</p>

</div>
</footer>
  








<script src="/js/search.min.js" type="text/javascript" charset="utf-8"></script>
<script src="/javascripts/jquery.tagcanvas.min.js"></script>
<script src="/assets/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/javascripts/modernizr.js"></script>
<script type="text/javascript">
  var hideTwitterAttempts = 0;
  function hideTwitterBoxElements() {
    setTimeout( function() {
      if ( $('[id*=twitter]').length ) {
        $('[id*=twitter]').each( function(){
          var ibody = $(this).contents().find( 'body' );

          if (ibody.find('.timeline .stream .h-feed li.tweet').length) {
            ibody.find('li.h-entry.tweet.customisable-border').css('border-bottom', '1px solid #ddd');
          } else {
            $(this).hide();
          }
        });
      }
      hideTwitterAttempts++;
      if ( hideTwitterAttempts < 3 ) {
        hideTwitterBoxElements();
      }
    }, 500);
  }

  // lunr search
  $(function () {
    $('#search-query').lunrSearch({
      indexUrl: '/js/index.json',   // Url for the .json file containing search index data
      results: '#search-results',  // selector for containing search results element
      entries: '.entries',         // selector for search entries containing element (contained within results above)
      template: '#search-results-template'  // selector for Mustache.js template
    });
  });

  $(document).ready(function () {
    // Twitter - add borders between tweets
    hideTwitterBoxElements();

    // Tag Cloud
    if (!$('#myCanvas').tagcanvas({
          textColour: '#157ab5',
          outlineMethod: 'none',
          reverse: true,
          depth: 0.8,
          weight: true,
          weightSizeMin: 10,
          weightSizeMax: 40,
          wheelZoom: false,
          maxSpeed: 0.03
        }, 'tags')) {
      // something went wrong, hide the canvas container
      $('#myCanvasContainer').hide();
    }

    // github repos
    if (!window.jXHR) {
      var jxhr = document.createElement('script');
      jxhr.type = 'text/javascript';
      jxhr.src = '/javascripts/libs/jXHR.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jxhr, s);
    }
    github.showRepos({
      user: 'blimey85',
      count: 0,
      skip_forks: true,
      target: '#gh_repos'
    });

  });
</script>

<script src="/javascripts/github.js" type="text/javascript"></script>
<script src="/javascripts/twitter.js" type="text/javascript"> </script>


<script id="search-results-template" type="text/mustache">
  {{#entries}}
    <article>
      <h3>
        {{#date}}<small><time datetime="{{pubdate}}" pubdate>{{displaydate}}</time></small>{{/date}}
        <a href="{{url}}">{{title}}</a>
      </h3>
    </article>
  {{/entries}}
</script>


</body>
</html>
